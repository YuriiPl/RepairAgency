<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en" th:lang="${#locale.language}">
<head th:replace="~{layouts/common :: head}" >
    <title>None</title>
</head>
<body>
<div th:replace="~{layouts/common :: header}"></div>

<!--<form th:action="@{/}">-->
<!--    <input type="text" th:name="participant"/>-->
<!--    <select th:name="country">-->
<!--        <option value="de">Germany</option>-->
<!--        <option value="nl">Netherlands</option>-->
<!--        <option value="pl">Poland</option>-->
<!--        <option value="lv">Latvia</option>-->
<!--    </select>-->
<!--</form>-->

<div class="container-fluid" style="max-width: 1200px; margin: 1px auto">
    <div class="container">
        <div>
    <!--MONEY-->
            <span class="d-flex justify-content-end" th:text="#{user.your.money(${userMoney})}"></span>
            <span th:if="${errorMoney ne null}" style="color:red" class="d-flex justify-content-center" th:text="#{user.wrong.money.format(${errorMoney})}"></span>
            <div style="height: auto; margin:auto 20%;text-align:center" class="d-flex justify-content-center">
                <div>
                    <form th:action="@{/account/user/addmoney}" class="row g-1" th:method="post">
                        <div class="d-flex flex-row bd-highlight mb-3">
                            <div class="bd-highlight"><label for="addmoney" class="p-2 bd-highlight" th:text="#{user.add.money}">Add money</label></div>
                            <th:block th:with="point=${T(java.text.DecimalFormatSymbols).getInstance(#locale).getDecimalSeparator()}">
                            <div class="bd-highlight"><input style="width: 5em" required name="money" max="50000" type="text" step="0.01" class="form-control p-2 bd-highlight text-end" id="addmoney" th:placeholder="'0'+${point}+'00'"></div>
                            </th:block>
                            <div class="bd-highlight">
                                <button type="submit" class="btn btn-primary ms-2 p-2 bd-highlight" th:text="#{client.money.confirm}">Confirm</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-center">
            <!-- ADD TASK -->
            <form th:action="@{/account/user/tasks/add(page=${page.getNumber()},size=${page.getSize()})}" name="sendForm" method="post">
                <div class="form-group">
                    <h1>
                        <label for="add-service" th:text="#{manager.formservice.addService}">Service</label>
                    </h1>
                    <div class="row" style="--bs-gutter-x:0">
                        <div class="col-sm">
<!--                        <select class="form-control col-sm" id="add-service" name="serviceId">-->
<!--                        <select class="form-select" size="3"  id="add-service" name="serviceId">-->
                            <select class="form-select form-select-md mr-1" id="add-service" name="serviceId">
                                <option th:each="service : ${services}" th:text="${service.name}" th:value="${service.id}">
                                </option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary col-md-auto ms-2" th:text="#{client.formservice.submit}">Submit</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="">
            <div th:replace="~{layouts/pager :: pager(${url},${page})}"></div>
            <table class="table table-striped table-bordered table-hover">
                <thead>
                <tr>
                    <th>#</th>
                    <th th:text="#{user.table.service.client}">CLIENT</th>
                    <th th:text="#{user.table.service.repairer}">REPAIRER</th>
                    <th th:text="#{user.table.service.servicename}">SERVICENAME</th>
                    <th th:text="#{user.table.service.workstatus}">WORKSTATUS</th>
                    <th th:text="#{user.table.service.paystatus}">PAYSTATUS</th>
                    <th th:text="#{user.table.service.datecreate}">DATECREATE</th>
                    <th th:text="#{user.table.service.datefinish}">DATEFINISH</th>
                    <th th:text="#{user.table.service.price}">PRICE</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="service,iterStat : ${page.content}">
                    <td th:text="${iterStat.index+1+page.getNumber()*page.getSize()}">index</td>
                    <td th:text="${service.owner.name}">name</td>
                    <td th:text="${service.repairer?.name}">name</td>
                    <td th:text="${service.serviceName?.name}">name</td>
                    <td th:text="${service.workStatus}">name</td>
                    <td th:text="${service.payStatus}">name</td>
                    <td th:text="${service.dateCreate?:''}">name</td>
                    <td th:text="${service.dateFinish?:''}">name</td>
                    <td th:text="${service.price?:''}">name</td>
                </tr>
                </tbody>
            </table>
            <div th:replace="~{layouts/pager :: pager(${url},${page})}"></div>
        </div>



    </div>
</div>


<div th:replace="~{layouts/common :: footer}"></div>

</body>
</html>